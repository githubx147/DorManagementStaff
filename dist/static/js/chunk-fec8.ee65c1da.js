(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-fec8"],{"23dR":function(t,e,a){"use strict";var n=a("t3Un");e.a={getRepairInfoNo:function(t,e,a){return Object(n.a)({url:"/staff/RepairInfo/findRepairInfoNo/"+t+"/"+e,method:"post",data:a})},getRepairInfoYes:function(t,e,a){return Object(n.a)({url:"/staff/RepairInfo/findRepairInfoYes/"+t+"/"+e,method:"post",data:a})},flagRepairInfo:function(t,e){return Object(n.a)({url:"/staff/RepairInfo/flagRepairInfo/"+t+"/"+e,method:"put"})}}},ktn2:function(t,e,a){"use strict";a.r(e);var n=a("23dR"),r={data:function(){return{current:1,limit:11,searchObj:{},list:[],total:0}},created:function(){this.getList()},methods:{flagRepairInfo:function(t,e){var a=this;this.$confirm("点击确定处理当前报修信息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a.flagRepairInfo(t,e).then(function(t){a.$message({type:"success",message:"处理成功!"}),a.getList()})}).catch(function(){a.$message({type:"info",message:"已取消处理"})})},getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.current=e,n.a.getRepairInfoYes(this.current,this.limit,this.searchObj).then(function(e){console.log(e),t.list=e.data.records,t.total=e.data.total}).catch(function(t){console.log(t)})}}},o=a("KHd+"),l=Object(o.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"宿舍号"},model:{value:t.searchObj.dormNo,callback:function(e){t.$set(t.searchObj,"dormNo",e)},expression:"searchObj.dormNo"}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"报修类型"},model:{value:t.searchObj.repairReason,callback:function(e){t.$set(t.searchObj,"repairReason",e)},expression:"searchObj.repairReason"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.getList()}}},[t._v("查询\n    ")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","font-size":"15px"},attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{type:"selection"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{prop:"repairID",label:"报修单编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dormNo",label:"房间号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stuId",label:"报修者学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"repairReason",label:"报修类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"repairDate",label:"报修时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"repairNote",label:"说明"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(0===e.row.repairStatus?"未处理":"已处理")+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.repairStatus?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.flagRepairInfo(e.row.id,0)}}},[t._v("撤销处理")]):t._e()]}}])})],1),t._v(" "),a("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":t.current,"page-size":t.limit,total:t.total,layout:"total, prev, pager, next, jumper"},on:{"current-change":t.getList}})],1)},[],!1,null,null,null);l.options.__file="RepairInfoYes.vue";e.default=l.exports}}]);